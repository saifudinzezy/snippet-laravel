{
    "Extend parseJson": {
        "scope": "javascript",
        "prefix": "fe-extend",
        "body": [
            "\\$.extend(scope, \\$.parseJSON(a));"
        ],
        "description": "Extend scope parseJson"
    },
	"Session Cek": {
		"prefix": "fe-session_check",
		"body": [
		  "if (apps.has_session($SESSION_NAME)) {",
		  "    //your code",
		  "} else {",
		  "    window.location = '?route=login';",
		  "}"
		],
		"description": "Session Cek"
	},
	"Ajax Result": {
        "scope": "javascript",
        "prefix": "fe-ajax_result",
        "body": [
            "\\$.ajax({",
            "\turl: scope.url + '/result',",
            "\ttype: 'GET',",
            "\tbeforeSend: function () {",
            "\t\t\\$(\".loader\").fadeIn();",
            "\t}, ",
            "\tsuccess: function (a) {",
            "\t\t\\$.extend(scope, \\$.parseJSON(a));",
            "\t\t// your code",
            "\t}, error: function (er) {",
            "\t\tconsole.log(er.responseText);",
            "\t\t\\$(\".loader\").fadeOut('slow');",
            "\t}",
            "});"
        ],
        "description": "Ajax Result "
    },
	"Ajax serializeArray": {
        "scope": "javascript",
        "prefix": "fe-ajax_seri",
        "body": [
            " apps.processing.setTagName(\\$(f).find('[type=\"submit\"]'));",
            "\t\t\t\t\tvar post = \\$(f).serializeArray();",
            "\t\t\t\t\tpost.push({",
            "\t\t\t\t\t\tname: 'nom_wd',",
            "\t\t\t\t\t\tvalue: apps.setNumber(nom_wd)",
            "\t\t\t\t\t});",
            "\t\t\t\t\t\\$(f).ajaxSubmit({",
            "\t\t\t\t\t\ttype: 'POST',",
            "\t\t\t\t\t\tdata: post,",
            "\t\t\t\t\t\tbeforeSend: function () {",
            "\t\t\t\t\t\t\tapps.processing.start();",
            "\t\t\t\t\t\t}"
        ],
        "description": "modify post data ajax serialize"
    },
    "Set Default Selected Option": {
        "scope": "javascript",
        "prefix": "fe-seldef",
        "body": [
            "\\$(\"#kd_rek_cabmitra\").html('<option value=\"'+d.kd_rek_cabmitra+'\" selected>'+d.rek_tujuan+'</option>');",
            "\t\t\t\t\\$('.select_kd_rek_isp').select2().val(d.kd_rek_isp);"
        ],
        "description": "set default select option"
    },
    "add apps_component.js default select option": {
        "scope": "javascript",
        "prefix": "fe-comp_ajax_selopt",
        "body": [
            "apps.select_kd_rek_cabmitra = function (kd_cabmitra, kd_rek_cabmitra = null) {",
            "\t\\$.ajax({",
            "\t\turl: apps.serverUrl + '/component/view_bank_rek_cabmitra',",
            "\t\ttype: 'GET',",
            "\t\tdata: {",
            "\t\t\tkd_cabmitra: kd_cabmitra",
            "\t\t},",
            "\t\tbeforeSend: function () {",
            "\t\t\t\\$('.select_kd_rek_cabmitra').html('<option value=\"\">Semua Rekening</option>');",
            "\t\t},",
            "\t\tsuccess: function (a) {",
            "\t\t\tvar d = \\$.parseJSON(a);",
            "\t\t\t\\$.each(d.bank_rek, function (k, v) {",
            "\t\t\t\tif (kd_rek_cabmitra !== null) {",
            "\t\t\t\t\tif (kd_rek_cabmitra == v.kd_rek) {",
            "\t\t\t\t\t\t\\$('.select_kd_rek_cabmitra').append('<option value=\"' + v.kd_rek + '\" selected>' + v.rek_tujuan + '</option>');",
            "\t\t\t\t\t} else {",
            "\t\t\t\t\t\t\\$('.select_kd_rek_cabmitra').append('<option value=\"' + v.kd_rek + '\">' + v.rek_tujuan + '</option>');",
            "\t\t\t\t\t}",
            "\t\t\t\t} else {",
            "\t\t\t\t\t\\$('.select_kd_rek_cabmitra').append('<option value=\"' + v.kd_rek + '\">' + v.rek_tujuan + '</option>');",
            "\t\t\t\t}",
            "\t\t\t});",
            "\t\t},",
            "\t\terror: function (er) {",
            "\t\t\tconsole.log(er.responseText);",
            "\t\t}",
            "\t});",
            "};"
        ],
        "description": "set default select option by kd"
    },
    "keyup input": {
        "scope": "javascript",
        "prefix": "fe-input_keyup",
        "body": [
            "\\$('input[name=\"nom_wd\"]').on('keyup', function () {",
            "\t\t\t\tlet nom_wd = apps.setNumber(\\$(this).val());",
            "\t",
            "\t\t\t\t// saldo akhir",
            "\t\t\t\t\\$('.sa').html('Rp. '+apps.setRupiah(nom_wd));",
            "\t\t\t});"
        ],
        "description": "automatis update data input keyup"
    },
    "Mengambil session": {
        "scope": "javascript",
        "prefix": "fe-session_get",
        "body": [
            "apps.get_session('$SESSION_NAME')"
        ],
        "description": "mengambil session login"
    },
    "Init select2": {
        "scope": "javascript",
        "prefix": "fe-init_select2",
        "body": [
            "\\$('.select_kd_rek_cabmitra').select2();"
        ],
        "description": "initial select2"
    },
    "init rupiah": {
        "scope": "javascript",
        "prefix": "fe-init_rupiah",
        "body": [
            " \"priceformat\",",
            "\t\t\t\"accounting\"",
            "\t\t\tapps.create_priceformat();"
        ],
        "description": "initial price format rupiah"
    },
    "menampilkan data di datatable": {
        "scope": "javascript",
        "prefix": "fe-datatable",
        "body": [
            "// menampilkan data dosen",
            "\t\tscope.table_dosen = \\$('#table_dosen').DataTable({",
            "\t\t\tajax: {",
            "\t\t\t\turl: scope.url + '/view',",
            "\t\t\t\ttype: 'GET',",
            "\t\t\t},",
            "\t\t\tcolumns: [{",
            "\t\t\t\t\tdata: 'nidn',",
            "\t\t\t\t\tclass: 'text-left'",
            "\t\t\t\t}, {",
            "\t\t\t\t\tdata: 'npp',",
            "\t\t\t\t\tclass: 'text-left'",
            "\t\t\t\t}, {",
            "\t\t\t\t\tdata: 'nip',",
            "\t\t\t\t\tclass: 'text-left'",
            "\t\t\t\t}, {",
            "\t\t\t\t\tdata: 'nm_dosen',",
            "\t\t\t\t\tclass: 'text-left',",
            "\t\t\t\t}, {",
            "\t\t\t\t\tdata: 'nm_jab',",
            "\t\t\t\t\tclass: 'text-left'",
            "\t\t\t\t}, {",
            "\t\t\t\t\tdata: 'nm_gol',",
            "\t\t\t\t\tclass: 'text-center'",
            "\t\t\t\t}, {",
            "\t\t\t\t\tdata: 'kuota_peneliti',",
            "\t\t\t\t\tclass: 'text-center'",
            "\t\t\t\t}, {",
            "\t\t\t\t\tdata: 'nm_prodi',",
            "\t\t\t\t\tclass: 'text-left',",
            "\t\t\t\t\trender: (data, type, row, meta) => {",
            "\t\t\t\t\t\tif (row.nm_prodi !== null) {",
            "\t\t\t\t\t\t\treturn row.nm_prodi + ' - ' + row.nm_jenjpend;",
            "\t\t\t\t\t\t} else {",
            "\t\t\t\t\t\t\treturn '';",
            "\t\t\t\t\t\t}",
            "\t\t\t\t\t}",
            "\t\t\t\t}, {",
            "\t\t\t\t\tdata: 'nm_fak',",
            "\t\t\t\t\tclass: 'text-left'",
            "\t\t\t\t}, {",
            "\t\t\t\t\tdata: 'aktif',",
            "\t\t\t\t\tclass: 'text-center',",
            "\t\t\t\t\trender: (aktif) => apps.setAktif(aktif)",
            "\t\t\t\t}],",
            "\t\t\tinitComplete: function () {",
            "\t\t\t\t\\$('#table_dosen_filter input').attr('placeholder', 'Nama/NIDN/NIP/NPP ...');",
            "\t\t\t}, drawCallback: function () {",
            "\t\t\t\t\\$('#edit_dosen,#del_dosen,#add_dosen').prop('disabled', true);",
            "\t\t\t}",
            "\t\t});",
            "",
            "\t\t//ketika memilih data dosen",
            "\t\t\\$('#table_dosen tbody').on('click', 'tr', function () {",
            "\t\t\t\\$('#table_dosen tbody tr.bg-warning').removeClass('bg-warning');",
            "\t\t\t\\$(this).addClass('bg-warning');",
            "\t\t\t\\$('#edit_dosen,#del_dosen,#add_dosen').prop('disabled', false);",
            "\t\t});",
            ""
        ],
        "description": "menampilkan data di datatable"
    },
    "export datatable": {
        "scope": "javascript",
        "prefix": "fe-datatable_export",
        "body": [
            "//export data dosen",
            "\t\tapps.datatable_export(scope.table_dosen, '#export_dosen');"
        ],
        "description": "export datatable"
    },
    "reload datatable": {
        "scope": "javascript",
        "prefix": "fe-datatable_dismiss_modal",
        "body": [
            " //menutup form dosen",
            "\t\t\\$('#modal_dosen [data-dismiss=\"modal\"]').on('click', function () {",
            "\t\t\tscope.table_dosen.ajax.reload();",
            "\t\t\tscope.validate_dosen.resetForm();",
            "\t\t});"
        ],
        "description": "dismiss modal and reload ajax datatable"
    },
    "tringger change": {
        "scope": "javascript",
        "prefix": "fe-trigger_change",
        "body": [
            " \\$('select[name=\"kd_prodi\"]').trigger('change');"
        ],
        "description": "tringger changed"
    },
    "mengirim data ke server": {
        "scope": "javascript",
        "prefix": "fe-validate_form",
        "body": [
            "//validate form dosen",
            "\t\tscope.validate_dosen = \\$('#form_dosen').validate({",
            "\t\t\trules: {",
            "\t\t\t\tnidn: {",
            "\t\t\t\t\trequired: true",
            "\t\t\t\t}, npp: {",
            "\t\t\t\t\tnumber: true",
            "\t\t\t\t}, nip: {",
            "\t\t\t\t\tnumber: true",
            "\t\t\t\t},",
            "\t\t\t\tnm_dosen: 'required',",
            "\t\t\t\tkuota_peneliti: 'required',",
            "\t\t\t\tkd_prodi: 'required',",
            "\t\t\t\tkd_jab: 'required',",
            "\t\t\t\tkd_gol: 'required'",
            "\t\t\t},",
            "\t\t\tmessages: {",
            "\t\t\t\tnidn: {",
            "\t\t\t\t\trequired: '*NIDN harus diisi'",
            "\t\t\t\t}, npp: {",
            "\t\t\t\t\tnumber: '*NPP harus diisi dengan angka'",
            "\t\t\t\t}, nip: {",
            "\t\t\t\t\tnumber: '*NIP harus diisi dengan angka'",
            "\t\t\t\t},",
            "\t\t\t\tnm_dosen: '*Nama dosen harus diisi',",
            "\t\t\t\tkuota_peneliti: '*Kuota peneliti harus diisi',",
            "\t\t\t\tkd_prodi: '*Program studi harus diisi',",
            "\t\t\t\tkd_jab: '*Jabatan fungsional harus diisi',",
            "\t\t\t\tkd_gol: '*Golongan harus diisi'",
            "\t\t\t},",
            "\t\t\tsubmitHandler: function (f) {",
            "\t\t\t\tapps.processing.setTagName(\\$(f).find('[type=\"submit\"]'));",
            "\t\t\t\t\\$(f).ajaxSubmit({",
            "\t\t\t\t\tbeforeSend: function () {",
            "\t\t\t\t\t\tapps.processing.start();",
            "\t\t\t\t\t}, success: function (a) {",
            "\t\t\t\t\t\tapps.processing.finish();",
            "\t\t\t\t\t\tvar m = \\$.parseJSON(a);",
            "\t\t\t\t\t\tapps.message(m);",
            "\t\t\t\t\t\tif (m.type === 'success') {",
            "\t\t\t\t\t\t\tif (\\$(f).attr('action') === scope.url + '/add') {",
            "\t\t\t\t\t\t\t\t\\$(f).clearForm()",
            "\t\t\t\t\t\t\t\t\t.find('input[name=\"nidn\"]')",
            "\t\t\t\t\t\t\t\t\t.focus();",
            "\t\t\t\t\t\t\t\t\\$(f).find('select[name=\"kd_prodi\"]')",
            "\t\t\t\t\t\t\t\t\t.trigger('change');",
            "\t\t\t\t\t\t\t\t\\$(f).find('select[name=\"kd_gol\"]')",
            "\t\t\t\t\t\t\t\t\t.trigger('change');",
            "\t\t\t\t\t\t\t} else {",
            "\t\t\t\t\t\t\t\tscope.table_dosen.ajax.reload();",
            "\t\t\t\t\t\t\t\t\\$('#modal_dosen').modal('hide');",
            "\t\t\t\t\t\t\t}",
            "\t\t\t\t\t\t}",
            "\t\t\t\t\t}",
            "\t\t\t\t});",
            "\t\t\t\treturn false;",
            "\t\t\t}",
            "\t\t});"
        ],
        "description": "validasi form standart"
    }
}